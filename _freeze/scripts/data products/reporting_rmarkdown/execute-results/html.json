{
  "hash": "8fa884c96bc11c1fa4e8d0b7388d4cb0",
  "result": {
    "markdown": "---\ntitle: \"Reporting with RMarkdown\"\nauthor: \"Joschka Schwarz\"\ndate: \"9/15/2020\"\nformat: html\n---\n\n\n\n::: {.cell hash='reporting_rmarkdown_cache/html/unnamed-chunk-1_183b2c392bfe29f24450c5c22d75a478'}\n\n:::\n\n\n# RMarkdown\n\n> Is amazing.\n\n## What can RMarkdown be used for?\n\n1. [HTML Reports](https://bookdown.org/yihui/rmarkdown/html-document.html) & [PDF Reports](https://bookdown.org/yihui/rmarkdown/pdf-document.html)\n2. [HTML Slide Decks](https://bookdown.org/yihui/rmarkdown/ioslides-presentation.html) & [PowerPoint](https://bookdown.org/yihui/rmarkdown/powerpoint-presentation.html)\n3. [Interactive Dashboards](https://rmarkdown.rstudio.com/flexdashboard/index.html)\n4. [Books with `bookdown`](https://bookdown.org/)\n5. [Websites with `blogdown`](https://bookdown.org/yihui/blogdown/)\n\n## Key Resources\n\n- [RMarkdown Website with Gallery](https://rmarkdown.rstudio.com/index.html)\n\n- Key Reference: [RMarkdown - The Definitive Guide](https://bookdown.org/yihui/rmarkdown/)\n\n- PDF Printing Setup: [tinytex](https://yihui.name/tinytex/)\n\n\n::: {.cell hash='reporting_rmarkdown_cache/html/unnamed-chunk-2_3086266df2a2a5149213e0217ada3a9e'}\n\n```{.r .cell-code}\n# PDF Knitting Setup: https://yihui.name/tinytex/ \n# install.packages(\"tintex\")\n# tinytex::install_tinytex()\n```\n:::\n\n\n\n# How Rmarkdown Works\n\n# Header 1\n\n## Header 2\n\n### Header 3\n\n# Working with Text\n\nFree-form text.\n\nMake text __bold__.\n\nMake text _italics_.\n\nMake text ___bold + italics___.\n\nTalk about code - the `tidyverse` is awesome\n\n__Unordered List:__\n\n- Item 1\n\n- Item 2\n\n__Ordered List:__\n\n1. First point\n\n2. Second point\n\n3. More points\n\n\n\n# Tabset {.tabset .tabset-fade .tabset-pills}\n\n## Tab 1\n\nThis is Tab 1\n\n## Tab 2\n\nThis is Tab 2\n\n\n# Images\n\n![NIT Logo](img/logo_nit.png){width=100px}\n\n\n::: {.cell hash='reporting_rmarkdown_cache/html/unnamed-chunk-3_15406c24aacc3cfb57537e315cfdf0b4'}\n::: {.cell-output-display}\n![NIT Logo](img/logo_nit.png){width=100px}\n:::\n:::\n\n\n\n# Code \n\nRead in data and print to HTML. Notice effect of `df_print: paged` option for HTML. \n\n- Try changing to `df_print: default`, or `kable` or `tibble`. PDF prints normally.\n\n- Try changing `results = \"hide\"`.\n\n\n::: {.cell hash='reporting_rmarkdown_cache/html/unnamed-chunk-4_f9ba3947bbd89431f911a0c8c43eca13'}\n\n```{.r .cell-code}\n# Bike data\nbikes_tbl      <- readRDS(\"~/GitHub/ss24-bdml-Adrian-0402/source_data/data products/bikes_tbl.rds\")\nbikeshops_tbl  <- readRDS(\"~/GitHub/ss24-bdml-Adrian-0402/source_data/data products/bikeshops_tbl.rds\")\norderlines_tbl <- readRDS(\"~/GitHub/ss24-bdml-Adrian-0402/source_data/data products/orderlines_tbl.rds\")\n\nbike_orderlines_tbl <- orderlines_tbl %>%\n    left_join(bikes_tbl,     by = c(\"product_id\" = \"bike_id\")) %>%\n    left_join(bikeshops_tbl, by = c(\"customer_id\" = \"bikeshop_id\")) %>%\n    mutate(total_price = price_euro * quantity)\n\nbike_orderlines_tbl\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 15,644 × 23\n   order_id order_line order_date          customer_id product_id quantity model\n      <dbl>      <dbl> <dttm>                    <dbl>      <dbl>    <dbl> <chr>\n 1        1          1 2015-01-07 00:00:00           2       2681        1 Spec…\n 2        1          2 2015-01-07 00:00:00           2       2411        1 Ulti…\n 3        2          1 2015-01-10 00:00:00          10       2629        1 Neur…\n 4        2          2 2015-01-10 00:00:00          10       2137        1 Spee…\n 5        3          1 2015-01-10 00:00:00           6       2367        1 Stit…\n 6        3          2 2015-01-10 00:00:00           6       1973        1 Road…\n 7        3          3 2015-01-10 00:00:00           6       2422        1 Spee…\n 8        3          4 2015-01-10 00:00:00           6       2655        1 Infl…\n 9        3          5 2015-01-10 00:00:00           6       2247        1 Torq…\n10        4          1 2015-01-11 00:00:00          22       2408        1 Ulti…\n# ℹ 15,634 more rows\n# ℹ 16 more variables: year <dbl>, frame_material <chr>, weight <dbl>,\n#   price_euro <dbl>, category_1 <chr>, category_2 <chr>, category_3 <chr>,\n#   gender <chr>, description <chr>, url <chr>, name <chr>, city <chr>,\n#   state <chr>, lat <dbl>, lng <dbl>, total_price <dbl>\n```\n:::\n:::\n\n\nWe can do data manipulations too. Try changing the YAML `code_folding` option from `none` to `hide` to `show`.\n\n\n::: {.cell hash='reporting_rmarkdown_cache/html/unnamed-chunk-5_b3d2a5e44b4b1e53e68329703d453d0d'}\n\n```{.r .cell-code}\nsales_by_category_tbl <- bike_orderlines_tbl %>%\n  dplyr::select(category_2, category_1, total_price) %>%\n  \n  group_by(category_2, category_1) %>%\n  summarise(total_revenue = sum(total_price)) %>%\n  ungroup() %>%\n  \n  arrange(desc(total_revenue)) %>%\n  mutate(category_2 = as_factor(category_2) %>% fct_rev())\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`summarise()` has grouped output by 'category_2'. You can override using the\n`.groups` argument.\n```\n:::\n:::\n\n\n\n# Plots\n\nPlotting works as expected. Try changin:\n\n- `out.height`, `out.width` and Knitting\n\n- Potential gotcha - Interactive plots (e.g. `plotly`) will not display in PDF\n\n__Static Plots:__ \n\n- Use `ggplot2`.\n\n\n::: {.cell hash='reporting_rmarkdown_cache/html/unnamed-chunk-6_39bff20cee9e203b3f7373a96bb32145'}\n\n```{.r .cell-code}\ng <- sales_by_category_tbl %>%\n  ggplot(aes(category_2, total_revenue, fill = category_1)) +\n  \n  # Geoms\n  geom_col() +\n  coord_flip() +\n  \n  # Formatting\n  labs(\n    title = \"Total Revenue by Category\",\n    x = \"\", y = \"\", fill = \"\"\n  )\n\ng\n```\n\n::: {.cell-output-display}\n![Revenue by Category](reporting_rmarkdown_files/figure-html/unnamed-chunk-6-1.png){width=672 height=600px}\n:::\n:::\n\n\n__Interactive plots:__ \n\n- Use `ggplotly()`.\n\n\n::: {.cell hash='reporting_rmarkdown_cache/html/unnamed-chunk-7_65dc4a971c8596ca0d7f48f78818b639'}\n\n```{.r .cell-code}\n# ggplotly(g)\n```\n:::\n\n\n\n# Tables\n\n__Static Tables:__\n\n- `knitr` package - `knitr::kable()` - Simple to use, great with PDF\n- [`gt` package](https://gt.rstudio.com/) - Really good for static tables\n\n\n::: {.cell hash='reporting_rmarkdown_cache/html/unnamed-chunk-8_5b5fbe946c9c426aba67eb2e7e6fed03'}\n\n```{.r .cell-code}\ntable_formatted_tbl <- sales_by_category_tbl %>%\n  rename_all(.funs = ~ str_replace(., \"_\", \" \") %>%\n               str_to_title()) \n\ntable_formatted_tbl %>% knitr::kable()\n```\n\n::: {.cell-output-display}\n|Category 2     |Category 1    | Total Revenue|\n|:--------------|:-------------|-------------:|\n|Race           |Road          |      11509156|\n|Trail          |Mountain      |       8644966|\n|Triathlon Bike |Road          |       5831716|\n|Cross-Country  |Mountain      |       5421144|\n|Endurance      |Road          |       5013423|\n|E-Mountain     |E-Bikes       |       4962946|\n|All-Road       |Gravel        |       3697923|\n|Enduro         |Mountain      |       3156837|\n|City           |Hybrid / City |       2115482|\n|Cyclocross     |Road          |       1940532|\n|E-Gravel       |E-Bikes       |       1936489|\n|Downhill       |Mountain      |       1803970|\n|E-City         |E-Bikes       |       1509096|\n|E-Trekking     |E-Bikes       |       1500894|\n|E-Fitness      |E-Bikes       |       1039996|\n|Touring        |Hybrid / City |        877736|\n|Adventure      |Gravel        |        702007|\n|Fat Bikes      |Mountain      |        391654|\n|Dirt Jump      |Mountain      |        371922|\n|E-Road         |E-Bikes       |          2919|\n\n\n\nTop Bike Categories\n:::\n:::\n\n\n__Dynamic Tables:__\n\n- Can print tables without additional formatting in HTML with the `df_print: paged` option in YAML\n- Potential Gotcha: Note that this will not print with format in PDF\n\n\n::: {.cell hash='reporting_rmarkdown_cache/html/unnamed-chunk-9_8d5d6e7175c70c40449b73af20d0291a'}\n\n```{.r .cell-code}\ntable_formatted_tbl\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 20 × 3\n   `Category 2`   `Category 1`  `Total Revenue`\n   <fct>          <chr>                   <dbl>\n 1 Race           Road                 11509156\n 2 Trail          Mountain              8644966\n 3 Triathlon Bike Road                  5831716\n 4 Cross-Country  Mountain              5421144\n 5 Endurance      Road                  5013423\n 6 E-Mountain     E-Bikes               4962946\n 7 All-Road       Gravel                3697923\n 8 Enduro         Mountain              3156837\n 9 City           Hybrid / City         2115482\n10 Cyclocross     Road                  1940532\n11 E-Gravel       E-Bikes               1936489\n12 Downhill       Mountain              1803970\n13 E-City         E-Bikes               1509096\n14 E-Trekking     E-Bikes               1500894\n15 E-Fitness      E-Bikes               1039996\n16 Touring        Hybrid / City          877736\n17 Adventure      Gravel                 702007\n18 Fat Bikes      Mountain               391654\n19 Dirt Jump      Mountain               371922\n20 E-Road         E-Bikes                  2919\n```\n:::\n:::\n\n\n\n\n# Footnotes\n\nThis is some text with a Footnote[^1]. This is a second Footnote[^2].\n\n\n\n[^1]: Citation for Footnote 1\n\n[^2]: Citatin for Footnote 2\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}